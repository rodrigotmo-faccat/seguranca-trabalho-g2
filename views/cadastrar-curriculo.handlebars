<h1 style="text-align: center;">Cadastre o seu currículo</h1>
<form id="coolForm" action="/add-curriculo" method="POST" style="text-align: center;">
    <input type="hidden" name="_csrf" value="{{crsfToken}}">
    <label for="name">Nome:</label><br>
    <input type="text" name="name" id="name" autofocus required>
    <br><br>
    <label for="phone">Telefone:</label><br>
    <input type="tel" name="phone" id="phone" placeholder="DDD+número" minlength="10" maxlength="11">
    <br><br>
    <label for="email">Email:</label><br>
    <input type="email" name="email" id="email" placeholder="example@example.com" required>
    <br><br>
    <label for="web_address">Endereço WEB:</label><br>
    <input type="text" name="web_address" id="web_address">
    <br><br>
    <label for="experience">Experiência profissional:</label><br>
    <textarea name="experience" id="experience" rows="5" cols="50" maxlength="1000" required></textarea>
    <br><br>
    <input type="submit" value="Cadastrar">
</form>
<script>
function validateName(element) {
    let value = element.target.value;

    if (typeof value != 'string') {
        alert('Insira somente letras no campo Nome');
        return false;
    }

    const regex = /^[a-zA-Z+ ]+$/;
    const result = regex.test(value);

    if(!result) {
        alert('Insira somente letras e espaços no campo Nome');
        return false;
    }

    return true;
}

function validatePhoneField(element) {
    let value = element.target.value;
    let numericValue = parseInt(value);

    if (!numericValue || isNaN(numericValue)) {
        alert('Insira somente números no campo Telefone');
        return false;
    }

    if (value.length < 10 || value.length > 11) {
        alert('O campo Telefone deve ter no mínimo 10 e no máximo 11 números');
        return false;
    }

    return true;
}

function validateEmail(element) {
    let value = element.target.value;

    if (typeof value != 'string') {
        alert('Insira somente letras no campo Email');
        return false;
    }

    const regex = /^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/;
    const result = regex.test(value);

    if(!result) {
        alert('Insira um formato de email válido');
        return false;
    }

    return true;
}

function validateWebAddress(element) {
    let value = element.target.value;

    if (typeof value != 'string') {
        alert('Insira somente letras no campo Endereço WEB');
        return false;
    }

    const regex = /^[a-zA-Z0-9_.-]+$/;
    const result = regex.test(value);

    if(!result) {
        alert('Insira um formato de endereço WEB válido');
        return false;
    }

    return true;
}

function validateExperience(element) {
    let value = element.target.value;

    if (typeof value != 'string') {
        alert('Insira somente letras no campo Experiência profissional');
        return false;
    }

    const regex = /^[a-zA-Z0-9., ]+$/;
    const result = regex.test(value);

    if(!result) {
        alert('Insira somente letras, números, espaços, ponto e vírgula no campo Experiência profissional');
        return false;
    }

    return true;
}

document.getElementById('name').addEventListener('focusout', validateName);
document.getElementById('phone').addEventListener('focusout', validatePhoneField);
document.getElementById('email').addEventListener('focusout', validateEmail);
document.getElementById('web_address').addEventListener('focusout', validateWebAddress);
document.getElementById('experience').addEventListener('focusout', validateExperience);

document.getElementById('coolForm').addEventListener('submit', validateName);
document.getElementById('coolForm').addEventListener('submit', validatePhoneField);
document.getElementById('coolForm').addEventListener('submit', validateEmail);
document.getElementById('coolForm').addEventListener('submit', validateWebAddress);
document.getElementById('coolForm').addEventListener('submit', validateExperience);
</script>